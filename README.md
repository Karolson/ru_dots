## w3x2lni

Самый быстрый способ, рекомендуется так делать пул реквесты  
Качаем [w3x2lni](https://www.hiveworkshop.com/threads/w3x2lni-v2-7-2.305201/) (загуглить w3x2lni на hiveworkshop.com если ссылка не работает)  
Актуальные файлы для редактирования находятся в папке THD_993_eng_test(номер)  
Чтобы собрать карту перетаскиваем эту папку в w3x2lni и жмем To Slk  
Если нужно разобрать карту берем депротектнутую версию и жмем To Lni  
Настройки w3x2lni лучше не менять, хотя можно в Advanced включить Extra check

## Депротектнутая версия

Работает в обычном редакторе  
Редактор желательно запускать под [локалью](https://github.com/xupefei/Locale-Emulator/releases) или менять язык всей ОС на китайский иначе китайские символы будут отображаться как нижние подчеркивания и могут слететь

После сохранения карта грузится не будет и нужно использовать [w3x2lni](https://www.hiveworkshop.com/threads/w3x2lni-v2-7-2.305201/) (загуглить w3x2lni на hiveworkshop.com если ссылка не работает)  
Перетаскиваем в него карту и жмем To Slk (настройки не менять иначе карта можешь сломаться)  
В папке появится оптимизированная карта с \_slk в конце

Если вар не видит карту то сократите название файла

## Через MPQ Editor

(Metakimi shiet guide)  
(нижеприведенный текст неактуален т.к. правки теперь ведутся в депротекнутой версии на расширенном редакторе с использованием китайских технологий, хотя когда будет релиз и нужно будет быстро пофиксить не прибегая к редактору - текст сгодится)

Хз зачем расписал, но мало ли. Используемая версия- 992a_beta8_eng_v14sm5

Процесс замены - юзаем [Lardik's MPQ Editor](http://www.zezula.net/download/mpqeditor_en.zip), открываем мапу (заранее сделанную копию).  
Если перед этим показывает окно с опциями - выбираем listfile.txt, галочки не жмем. Если не показало - закрываем, открываем мапу через менюшку, указываем listfile. В итоге должно получится типа такое: ![](https://cdn.discordapp.com/attachments/401022282832674818/588272708962353152/unknown.png)  
Ошибок нет? С этим и работаем. Копируем отсюда измененные файлы, вставляем в карту.  
Если мутим что-то новое и сырое- вместо импортозамещения можно редачить изнутри через Edit File (двойным нажатием просто разархивирует в ебеня).  
Сохраняем, подтверждаем замену, прожимаем Compact Archive.

Описания некоторых файликов:  
war3map.j - собсна основной код содержащий абилки, команды и прочую программируемую хрень. Заменяется удалением файла и вставкой в корень.  
Units\CampaignAbilityStrings.txt - содержит описания иконок способностей, их положение, хоткей и путь к самой пикче. Заменяется удалением и вставкой в папку Units.  
Units\ItemFunc.txt - то же что и предыдущее, но для шмоток. Удаляем, пихаем свое в папку Units.  
Units\CampaignUnitFunc.txt - содержит имена и описания юнитов, имена и титулы девочек, путь к их иконкам, путь к их модельке рендж атаки и скорость выпущенных снарядов с их траекторией и автонаведением.  
war3mapSkin.txt - сообщения об ошибках (цели заклинания), дисконнекте, описания голд-дерево-еда, лимита еды (используется для кредитов, нумерации версии в углу :3)

Возможно будет что-то еще. Если удалили не тот файл, то архиватор будет говорить что заменяемый вами файл уже существует внутри карты. Карта крашнет вар на половине загрузки.
