## Депротектнутая версия

Работает в обычном редакторе  
Редактор желательно запускать под [локалью](https://github.com/xupefei/Locale-Emulator/releases) или менять язык всей ОС на китайский иначе китайские символы будут отображаться как нижние подчеркивания и могут слететь

После сохранения карта грузится не будет и нужно использовать оптимайзер  
С ним идут файлы версии 1.27b русской, для другой версии нажать MPQ Location и выбрать war3patch.mpq

Настройки НЕ МЕНЯТЬ иначе карта может сломаться  
Выбрать карту в Choose и нажать Optimize  
Первые несколько раз оптимайзер может вылететь, тогда пробуем снова и в случае успеха он покажет за сколько времени он оптимизировал карту  
В папке с картой будет оптимизированная версия с префиксом U9\_

Если вар не видит карту то сократите название файла
Некоторые иконки могут стать зелеными или белыми, тогда нужно прогнать через оптимайзер заново

## w3x2lni

Удобен чтобы делать diff между версиями через To Lni, в прочих функциях были баги  
[Ссылка](https://www.hiveworkshop.com/threads/w3x2lni-v2-7-2.305201/) (загуглить w3x2lni на hiveworkshop.com если ссылка не работает)

## Через MPQ Editor

(Metakimi shiet guide)  
(нижеприведенный текст неактуален т.к. правки теперь ведутся в депротекнутой версии на расширенном редакторе с использованием китайских технологий, хотя когда будет релиз и нужно будет быстро пофиксить не прибегая к редактору - текст сгодится)

Хз зачем расписал, но мало ли. Используемая версия- 992a_beta8_eng_v14sm5

Процесс замены - юзаем [Lardik's MPQ Editor](http://www.zezula.net/download/mpqeditor_en.zip), открываем мапу (заранее сделанную копию).  
Если перед этим показывает окно с опциями - выбираем listfile.txt, галочки не жмем. Если не показало - закрываем, открываем мапу через менюшку, указываем listfile. В итоге должно получится типа такое: ![](https://cdn.discordapp.com/attachments/401022282832674818/588272708962353152/unknown.png)  
Ошибок нет? С этим и работаем. Копируем отсюда измененные файлы, вставляем в карту.  
Если мутим что-то новое и сырое- вместо импортозамещения можно редачить изнутри через Edit File (двойным нажатием просто разархивирует в ебеня).  
Сохраняем, подтверждаем замену, прожимаем Compact Archive.

Описания некоторых файликов:  
war3map.j - собсна основной код содержащий абилки, команды и прочую программируемую хрень. Заменяется удалением файла и вставкой в корень.  
Units\CampaignAbilityStrings.txt - содержит описания иконок способностей, их положение, хоткей и путь к самой пикче. Заменяется удалением и вставкой в папку Units.  
Units\ItemFunc.txt - то же что и предыдущее, но для шмоток. Удаляем, пихаем свое в папку Units.  
Units\CampaignUnitFunc.txt - содержит имена и описания юнитов, имена и титулы девочек, путь к их иконкам, путь к их модельке рендж атаки и скорость выпущенных снарядов с их траекторией и автонаведением.  
war3mapSkin.txt - сообщения об ошибках (цели заклинания), дисконнекте, описания голд-дерево-еда, лимита еды (используется для кредитов, нумерации версии в углу :3)

Возможно будет что-то еще. Если удалили не тот файл, то архиватор будет говорить что заменяемый вами файл уже существует внутри карты. Карта крашнет вар на половине загрузки.
